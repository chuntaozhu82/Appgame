# 模拟钓鱼游戏设计文档

## 1. 核心玩法机制设计

### 1.1 钓鱼操作系统

**交互模式定义**：

| 操作类型 | 触发条件 | 反馈机制 | 操作判定标准 |
|---------|---------|---------|------------|
| 抛竿 | 点击抛竿按钮 | 动画：鱼竿挥动，鱼线飞出<br>音效：抛竿声 | 抛竿力度由按住时间决定，最长2秒<br>力度越大，抛竿距离越远 |
| 收线 | 按住收线按钮 | 动画：鱼线缩短，鱼竿弯曲<br>音效：收线声 | 持续按住加速收线，松开则缓慢收线 |
| 拖拽 | 滑动屏幕 | 动画：鱼竿跟随手势移动<br>音效：鱼线摩擦声 | 拖拽方向控制鱼竿角度，影响鱼的拉力方向 |
| 上钩判定 | 鱼咬钩时 | 动画：鱼线突然拉紧，鱼竿震动<br>音效：咬钩提示音 | 玩家需在3秒内点击收线按钮确认上钩 |
| 鱼挣扎 | 鱼上钩后 | 动画：鱼线剧烈摆动，鱼竿大幅度弯曲<br>音效：鱼挣扎声 | 玩家需根据鱼的挣扎方向进行反向拖拽，保持鱼线张力在安全范围内 |

**操作反馈系统**：
- 视觉反馈：鱼线张力指示器（颜色变化：绿色-安全，黄色-警告，红色-危险）
- 触觉反馈：设备震动（移动平台）
- 听觉反馈：不同操作对应不同音效

### 1.2 鱼类生态系统

**鱼类设计**（共12种）：

| 鱼类名称 | 出现概率 | 体型大小 | 上钩难度 | 逃脱机制 | 经济价值 | 出现水域 | 活动时间 |
|---------|---------|---------|---------|---------|---------|---------|--------|
| 鲫鱼 | 25% | 小型 (10-20cm) | 低 | 轻微挣扎，易控制 | 10-30 | 湖泊、河流 | 全天 |
| 鲤鱼 | 20% | 中型 (30-50cm) | 中 | 中等挣扎，需要一定技巧 | 50-100 | 湖泊、河流 | 全天 |
| 草鱼 | 15% | 大型 (60-80cm) | 中高 | 持续挣扎，力量较大 | 100-200 | 湖泊、河流 | 白天 |
| 鲈鱼 | 10% | 中型 (25-40cm) | 中 | 突然爆发力强，需快速反应 | 80-150 | 湖泊、海洋 | 黄昏 |
| 鲶鱼 | 8% | 大型 (70-100cm) | 高 | 长时间剧烈挣扎，力量极大 | 150-300 | 河流、湖泊 | 夜晚 |
| 三文鱼 | 7% | 中型 (40-60cm) | 中高 | 快速游动，突然变向 | 120-250 | 河流、海洋 | 白天 |
| 金枪鱼 | 5% | 超大型 (100-200cm) | 极高 | 持续高速游动，力量惊人 | 300-500 | 海洋 | 白天 |
| 鲨鱼 | 2% | 超大型 (200-300cm) | 极高 | 狂暴挣扎，可能咬断鱼线 | 500-1000 | 海洋 | 全天 |
| 罗非鱼 | 5% | 小型 (15-25cm) | 低 | 轻微挣扎 | 20-50 | 湖泊、河流 | 白天 |
| 鳜鱼 | 3% | 中型 (20-35cm) | 中 | 突然加速 | 60-120 | 湖泊、河流 | 黄昏 |
| 石斑鱼 | 2% | 大型 (50-80cm) | 高 | 持续挣扎，力量大 | 180-350 | 海洋 | 白天 |
| 剑鱼 | 1% | 超大型 (150-250cm) | 极高 | 高速游动，力量极强 | 400-800 | 海洋 | 白天 |

**鱼类行为模式**：
- 不同鱼类有不同的游动速度和行为模式
- 鱼类会根据天气和时间变化改变活动区域
- 某些稀有鱼类只在特定天气条件下出现

### 1.3 场景环境系统

**水域环境**：

| 环境类型 | 特点 | 可用鱼种 | 特殊效果 |
|---------|------|---------|--------|
| 湖泊 | 平静水域，水深适中 | 鲫鱼、鲤鱼、草鱼、罗非鱼、鳜鱼 | 鱼类密度高，容易上钩 |
| 河流 | 水流速度中等，有洄水湾 | 鲫鱼、鲤鱼、草鱼、鲶鱼、三文鱼 | 某些区域鱼群聚集，需掌握水流规律 |
| 海洋 | 广阔水域，深度大 | 鲈鱼、金枪鱼、鲨鱼、石斑鱼、剑鱼 | 大型鱼类多，上钩难度高，价值大 |

**动态环境效果**：

| 效果类型 | 变化范围 | 对鱼类的影响 |
|---------|---------|------------|
| 日夜交替 | 白天、黄昏、夜晚 | 某些鱼类只在特定时间段活动（如鲶鱼夜晚活跃） |
| 天气变化 | 晴天、多云、雨天、暴雨 | 雨天鱼类更活跃，暴雨可能导致某些区域无法钓鱼 |
| 季节变化 | 春季、夏季、秋季、冬季 | 影响鱼类种类分布和活跃度 |
| 水温变化 | 10°C-30°C | 影响鱼类新陈代谢和活动频率 |

## 2. 技术架构规划

### 2.1 开发引擎选型

**引擎对比**：

| 引擎 | 技术特性 | 开发效率 | 性能表现 | 适合度 |
|------|---------|---------|---------|--------|
| Unity | - C#脚本语言<br>- 成熟的2D/3D渲染<br>- 丰富的资产商店<br>- 跨平台支持 | 高（快速原型开发） | 中（移动端优化良好） | ★★★★☆ |
| Unreal Engine | - C++/Blueprint<br>- 先进的渲染技术<br>- 物理模拟强大<br>- 大型项目支持 | 中（学习曲线较陡） | 高（AAA级图形质量） | ★★★☆☆ |
| Godot | - GDScript/C#<br>- 轻量级架构<br>- 开源免费<br>- 节点式设计 | 高（直观的节点系统） | 中（适合中小型项目） | ★★★☆☆ |
| Appgame | - C++17核心<br>- 跨平台兼容<br>- 模块化设计<br>- 性能优先 | 中（需更多底层实现） | 高（原生性能） | ★★★★☆ |

**最终选择**：Appgame框架

**选择理由**：
- 跨平台兼容性好，适合移动端和PC端
- C++17核心提供优异的性能，适合物理模拟
- 模块化设计便于扩展，可根据钓鱼游戏需求定制功能
- 资源管理系统适合处理大量的鱼类和场景资源
- 物理引擎集成便于实现鱼线张力和鱼类挣扎效果

### 2.2 数据存储方案

**玩家数据结构**：

```json
{
  "player": {
    "level": 10,
    "experience": 5000,
    "currency": {
      "coins": 10000,
      "gems": 100
    },
    "equipment": {
      "rod": {
        "id": "rod_003",
        "name": "碳纤维鱼竿",
        "level": 2,
        "attributes": {
          "tension": 15,
          "casting_distance": 25,
          "sensitivity": 8
        }
      },
      "reel": {
        "id": "reel_002",
        "name": "高速 reels",
        "level": 1,
        "attributes": {
          "reeling_speed": 12,
          "line_capacity": 100
        }
      },
      "line": {
        "id": "line_003",
        "name": "高强度鱼线",
        "level": 0,
        "attributes": {
          "strength": 20,
          "visibility": 3
        }
      },
      "lure": "lure_004" // 拟饵ID
    },
    "inventory": [
      {
        "id": "fish_001",
        "name": "鲫鱼",
        "count": 5,
        "value": 20
      },
      // 其他物品...
    ],
    "achievements": [
      {
        "id": "achievement_001",
        "name": "初次钓鱼",
        "completed": true,
        "progress": 1,
        "max_progress": 1
      },
      // 其他成就...
    ],
    "fish_pedia": {
      "discovered_fish": ["fish_001", "fish_002", "fish_003"],
      "caught_count": {
        "fish_001": 15,
        "fish_002": 8,
        "fish_003": 3
      }
    },
    "skills": [
      {
        "id": "skill_001",
        "name": "精准抛竿",
        "level": 2,
        "effects": {
          "casting_accuracy": 15,
          "distance_bonus": 10
        }
      },
      // 其他技能...
    ]
  }
}
```

**存储策略**：
- 使用Appgame的Storage系统进行本地存储
- 关键数据加密存储（如货币、等级等）
- 定期自动保存，避免数据丢失
- 支持云存储同步（可选）

### 2.3 网络功能规划

**多人模式设计**：
- 实时多人钓鱼竞赛（最多4人）
- 合作模式：共同挑战大型鱼类
- 鱼塘分享：玩家可创建私人鱼塘，邀请好友

**排行榜系统**：
- 每日/每周/每月钓鱼重量排行榜
- 稀有鱼类捕获排行榜
- 总价值排行榜

**网络架构**：
- 客户端-服务器架构
- 使用WebSocket进行实时通信
- 数据同步采用状态同步机制
- 防作弊系统：服务端验证关键操作

## 3. 原型功能定义

### 3.1 钓鱼核心循环

**核心流程**：
1. **准备阶段**：选择钓点，装备鱼竿、鱼线、拟饵
2. **抛竿阶段**：点击抛竿按钮，根据按住时间确定抛竿力度和距离
3. **等待阶段**：鱼线落入水中，等待鱼咬钩
4. **上钩判定**：鱼咬钩时，玩家需在规定时间内确认上钩
5. **收线阶段**：玩家控制收线速度和鱼竿方向
6. **鱼挣扎阶段**：鱼上钩后会挣扎，玩家需保持鱼线张力在安全范围内
7. **捕获阶段**：成功将鱼拉到岸边，完成捕获
8. **处理阶段**：选择将鱼放入背包或直接售卖

**状态转换机制**：

```
准备 → 抛竿 → 等待 → 上钩判定 → 收线 → 鱼挣扎 → 捕获 → 处理 → 准备
                                      ↑
                                      | 失败
                                      ↓
                                   逃脱
```

### 3.2 基础UI界面

**核心UI模块**：

| UI模块 | 功能 | 布局 |
|--------|------|------|
| 主界面 | 游戏入口，包含开始游戏、商店、背包等按钮 | 居中布局，背景为钓鱼场景 |
| 钓鱼界面 | 核心游戏界面，包含鱼竿状态、鱼线张力指示器、收线按钮等 | 顶部：状态指示器<br>中部：游戏画面<br>底部：操作按钮 |
| 背包系统 | 显示玩家拥有的鱼类、装备等物品 | 网格布局，可分类查看 |
| 商店界面 | 购买鱼竿、鱼线、拟饵等装备 | 分类标签，物品卡片式布局 |
| 图鉴系统 | 显示已发现的鱼类信息 | 分页展示，点击查看详情 |
| 任务界面 | 显示当前任务进度和奖励 | 列表式布局，按类型分类 |

**交互流程**：
- 主界面 → 选择钓鱼地点 → 钓鱼界面 → 捕获鱼 → 背包/售卖 → 主界面
- 主界面 → 商店 → 购买装备 → 背包 → 装备管理

### 3.3 物理效果要求

**物理系统实现**：

| 物理效果 | 实现标准 | 技术方案 |
|---------|---------|---------|
| 鱼线张力模拟 | - 实时计算鱼线张力<br>- 张力超过阈值时鱼线断裂<br>- 张力变化影响收线速度 | 使用Appgame的Physics系统，创建弹性连接 |
| 水体波动效果 | - 鱼线落入水中产生涟漪<br>- 鱼游动时产生水流<br>- 不同天气下水体效果不同 |  shader实现，顶点动画模拟波浪 |
| 鱼类挣扎物理反馈 | - 鱼的力量随体型增大而增加<br>- 不同鱼类有不同的挣扎模式<br>- 挣扎方向和力度随机变化 | 使用物理引擎的力和扭矩系统 |
| 鱼竿弯曲效果 | - 根据鱼的拉力实时计算弯曲程度<br>- 不同材质的鱼竿弯曲特性不同 | 骨骼动画或物理模拟 |

## 4. 核心系统设计

### 4.1 经济系统

**货币体系**：
- **金币**：主要货币，通过售卖鱼类、完成任务获得
- **宝石**：稀有货币，通过成就、特殊任务或付费获得

**获取途径**：
- 售卖鱼类（根据鱼类稀有度和大小决定价格）
- 完成任务和成就
- 每日登录奖励
- 特殊活动

**消耗渠道**：
- 购买鱼竿、鱼线、拟饵等装备
- 升级装备
- 购买特殊场景入场券
- 扩充背包容量

**装备升级路径**：

| 装备类型 | 等级1 | 等级2 | 等级3 | 等级4 | 等级5 |
|---------|-------|-------|-------|-------|-------|
| 鱼竿 | 新手竿<br>价格：100金币 | 竹制鱼竿<br>价格：500金币 | 玻璃钢鱼竿<br>价格：1500金币 | 碳纤维鱼竿<br>价格：5000金币 | 钛合金鱼竿<br>价格：15000金币 |
| 鱼线 | 尼龙线<br>价格：50金币 | 氟碳线<br>价格：200金币 | 编织线<br>价格：600金币 | 高强度编织线<br>价格：2000金币 | 超级编织线<br>价格：6000金币 |
| 拟饵 | 基础拟饵<br>价格：20金币 | 发光拟饵<br>价格：100金币 | 仿生拟饵<br>价格：300金币 | 高级仿生拟饵<br>价格：1000金币 | 大师级拟饵<br>价格：3000金币 |

### 4.2 任务系统

**任务类型**：

| 任务类型 | 特点 | 奖励 |
|---------|------|------|
| 日常任务 | 每日刷新，简单易完成 | 金币、经验、基础装备 |
| 成就挑战 | 长期目标，完成特定条件 | 宝石、稀有装备、称号 |
| 剧情任务 | 推进游戏故事，解锁新场景 | 金币、经验、特殊装备 |
| 限时活动 | 特定时间段内的特殊任务 | 限定装备、稀有鱼类入场券 |

**任务示例**：
- 日常任务：捕获5条鲫鱼，奖励100金币
- 成就挑战：捕获所有12种鱼类，奖励1000宝石
- 剧情任务：解锁海洋场景，奖励碳纤维鱼竿
- 限时活动：捕获1条鲨鱼，奖励鲨鱼主题装备

### 4.3 成长系统

**等级系统**：
- 玩家等级：通过获得经验值提升
- 经验获取：捕获鱼类、完成任务
- 等级奖励：解锁新装备、新场景、新技能

**技能树系统**：

| 技能分支 | 技能效果 | 解锁条件 |
|---------|---------|---------|
| 精准抛竿 | 提高抛竿准确性和距离 | 等级5 |
| 耐心等待 | 增加稀有鱼类咬钩概率 | 等级10 |
| 强力收线 | 提高收线速度 | 等级15 |
| 鱼性了解 | 显示鱼的耐力值 | 等级20 |
| 装备大师 | 装备升级成本降低 | 等级25 |
| 天气专家 | 天气对钓鱼的负面影响减少 | 等级30 |

**成长路径**：
- 新手阶段（1-10级）：熟悉基本操作，解锁湖泊和河流场景
- 进阶阶段（11-25级）：解锁海洋场景，开始挑战大型鱼类
- 大师阶段（26-50级）：解锁所有技能，挑战稀有鱼类

## 5. 美术资源规范

### 5.1 视觉风格定义

**美术风格**：卡通写实风格
- 特点：色彩明快，造型可爱，细节丰富
- 目标受众：全年龄段，重点面向休闲游戏玩家

**色彩方案**：
- 主色调：蓝色系（代表水域）
- 辅助色：绿色（代表自然）、橙色（代表活力）
- 中性色：灰色、白色（用于UI元素）

**光照风格**：
- 自然光照：模拟不同时间的阳光效果
- 水体光照：水下光线折射效果
- 环境光：根据天气变化调整

### 5.2 资源制作标准

**模型规格**：

| 资源类型 | 多边形数量 | 纹理分辨率 | 格式 |
|---------|-----------|-----------|------|
| 角色模型 | ≤5000 | 1024x1024 | PNG |
| 鱼类模型 | ≤3000 | 512x512 | PNG |
| 场景素材 | ≤10000 | 2048x2048 | PNG |
| UI元素 | ≤1000 | 512x512 | PNG |
| 特效动画 | ≤2000 | 1024x1024 | PNG序列帧 |

**动画标准**：
- 角色动画：30fps
- 鱼类动画：24fps
- UI动画：60fps
- 特效动画：60fps

**音频规格**：
- 背景音乐：44.1kHz, 16-bit, MP3
- 音效：44.1kHz, 16-bit, WAV
- 语音：44.1kHz, 16-bit, OGG

## 6. 测试策略规划

### 6.1 功能测试

**测试用例**：

| 模块 | 测试点 | 预期结果 |
|------|--------|----------|
| 钓鱼系统 | 抛竿距离与力度关系 | 按住时间越长，抛竿距离越远 |
| 钓鱼系统 | 鱼上钩判定机制 | 鱼咬钩时，玩家需在3秒内点击收线 |
| 钓鱼系统 | 鱼挣扎物理反馈 | 鱼挣扎时，鱼线张力变化合理 |
| 经济系统 | 鱼类售卖价格计算 | 价格与鱼类稀有度和大小匹配 |
| 经济系统 | 装备升级成本 | 升级成本随等级增加而增加 |
| 任务系统 | 任务完成条件检测 | 任务目标达成后，任务自动完成 |
| 成长系统 | 经验值计算 | 捕获鱼类后获得正确经验值 |
| 成长系统 | 技能解锁条件 | 达到等级要求后技能可解锁 |

### 6.2 性能测试

**性能目标**：
- **移动端**：60fps稳定
- **PC端**：144fps稳定
- **内存占用**：
  - 移动端：≤500MB
  - PC端：≤1GB
- **加载时间**：
  - 初始加载：≤10秒
  - 场景切换：≤3秒

**测试方法**：
- 使用性能分析工具监控帧率和内存使用
- 在不同设备配置下测试
- 模拟大量鱼类同时存在的场景

### 6.3 用户体验测试

**测试指标**：
- **操作手感**：
  - 抛竿操作响应时间：≤100ms
  - 收线操作流畅度：无卡顿
  - 拖拽操作精度：误差≤5像素
- **游戏节奏**：
  - 平均钓鱼时间：5-10分钟/次
  - 稀有鱼类出现频率：每小时2-3次
- **难度曲线**：
  - 新手教程：简单易懂
  - 进阶挑战：有一定难度但可通过练习掌握
  - 大师挑战：需要技巧和耐心

**测试方法**：
- 邀请不同年龄、游戏经验的用户进行测试
- 收集用户反馈，调整游戏参数
- A/B测试不同的难度设置

## 7. 发布准备规划

### 7.1 音效配乐设计

**音效风格**：
- 自然风格：水声、鸟鸣、风声等环境音效
- 操作音效：抛竿、收线、咬钩等操作反馈
- 鱼类音效：不同鱼类的挣扎声

**配乐方案**：
- 主菜单：轻松愉快的吉他曲
- 钓鱼场景：舒缓的自然音乐
- 紧张时刻：鱼挣扎时的紧张音乐
- 成就解锁：欢快的奖励音乐

### 7.2 本地化策略

**支持语言**：
- 英语
- 中文（简体/繁体）
- 日语
- 韩语
- 西班牙语
- 法语

**本地化内容**：
- 游戏文本
- UI元素
- 教程内容
- 营销材料

### 7.3 平台适配方案

**目标平台**：
- **移动端**：iOS (iPhone/iPad), Android
- **PC端**：Windows, macOS
- **主机端**： Nintendo Switch（可选）

**硬件要求**：

| 平台 | 最低配置 | 推荐配置 |
|------|---------|----------|
| iOS | iPhone 8+, iOS 13+ | iPhone 12+, iOS 15+ |
| Android | 4GB RAM, Snapdragon 660 | 6GB RAM, Snapdragon 855+ |
| Windows | i3 CPU, 4GB RAM, GTX 1050 | i5 CPU, 8GB RAM, GTX 1660 |
| macOS | MacBook Air (2018+), macOS 10.15+ | MacBook Pro (2020+), macOS 12+ |

### 7.4 发布渠道规划

**发布平台**：
- **移动端**：App Store, Google Play
- **PC端**：Steam, Epic Games Store
- **主机端**：Nintendo eShop（可选）

**发布流程**：
1. 内部测试 → 封闭测试 → 开放测试
2. 收集反馈，修复问题
3. 提交审核
4. 发布上线
5. 持续更新维护

**营销计划**：
- 预注册活动
- 社交媒体宣传
- 游戏主播合作
- 定期更新内容

## 8. 项目时间规划

**开发阶段**：
1. **概念设计**：2周
2. **原型开发**：4周
3. **核心功能开发**：8周
4. **内容制作**：6周
5. **测试与优化**：4周
6. **发布准备**：2周

**总开发周期**：约26周（6个月）

## 9. 风险评估与应对策略

**潜在风险**：
1. **技术风险**：物理模拟复杂度高，可能影响性能
   - 应对：优化物理计算，使用LOD技术

2. **内容风险**：鱼类种类和行为模式设计不足
   - 应对：提前进行鱼类行为研究，参考真实钓鱼经验

3. **市场风险**：钓鱼游戏市场竞争激烈
   - 应对：突出游戏特色，如多人模式、丰富的鱼类生态

4. **时间风险**：开发周期可能延长
   - 应对：采用敏捷开发方法，定期迭代，优先实现核心功能

## 10. 总结

本设计文档详细规划了一款模拟钓鱼游戏的核心玩法、技术架构、美术资源和发布策略。游戏采用Appgame框架开发，注重真实的钓鱼体验和丰富的游戏内容，目标是为玩家提供一款休闲有趣且具有深度的钓鱼游戏。

通过系统化的设计和规划，确保游戏在技术实现、用户体验和市场表现上都能达到预期目标。后续开发将严格按照本设计文档进行，确保游戏质量和开发效率。